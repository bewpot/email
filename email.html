<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modulo di Contatto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #fdfaf7;
            color: #343a40;
            margin: 0;
            padding: 0;
        }

        .contact-section {
            max-width: 900px;
            margin: 50px auto;
            padding: 30px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #a67c52;
        }

        .form-control {
            border: 1px solid #a67c52;
            border-radius: 5px;
        }

        .form-check-label {
            font-size: 0.9rem;
        }

        .btn-primary {
            background-color: #a67c52;
            border-color: #a67c52;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background-color: #7a5d3b;
            border-color: #7a5d3b;
        }
    </style>
    <!-- EmailJS Library -->
    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script>
        // Inizializza EmailJS con la tua Public Key
        (function() {
            emailjs.init("sNGf5amcWZHo0WYXW"); // Sostituisci con la tua Public Key
        })();
    </script>
</head>
<body>
    <section class="contact-section">
        <h1>Richiedi un Contatto</h1>
        <p>Ti aspetto in studio:</p>
        <form id="contactForm">
            <!-- Nome e Cognome -->
            <div class="mb-3">
                <label for="name" class="form-label">Nome e Cognome *</label>
                <input type="text" class="form-control" id="name" name="name" required>
            </div>

            <!-- Email -->
            <div class="mb-3">
                <label for="email" class="form-label">Email *</label>
                <input type="email" class="form-control" id="email" name="email" required>
            </div>

            <!-- Messaggio -->
            <div class="mb-3">
                <label for="message" class="form-label">Messaggio *</label>
                <textarea class="form-control" id="message" name="message" rows="5" required></textarea>
            </div>

            <!-- Checkbox -->
            <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" id="privacyCheck" required>
                <label class="form-check-label" for="privacyCheck">
                    Sono a conoscenza che i dati acquisiti saranno trattati nel rispetto del D. Lgs. 196/2003 e Reg UE 679/2016.
                </label>
            </div>

            <!-- Pulsante di invio -->
            <button type="submit" class="btn btn-primary">Richiesta di Contatto</button>
        </form>
    </section>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JavaScript per EmailJS -->
    <script>
        document.getElementById("contactForm").addEventListener("submit", function(e) {
            e.preventDefault();

            // Raccoglie i dati del modulo
            const templateParams = {
                name: document.getElementById("name").value,
                email: document.getElementById("email").value,
                message: document.getElementById("message").value,
                reply_to: document.getElementById("email").value // Aggiunto per Reply-To
            };

            // Invia l'email tramite EmailJS
            emailjs.send("service_7ze47qs", "template_mrfg0fw", templateParams)
                .then(function(response) {
                    alert("Messaggio inviato con successo! Grazie per averci contattato.");
                    document.getElementById("contactForm").reset();
                    console.log("SUCCESS!", response.status, response.text);
                }, function(error) {
                    alert("Errore nell'invio del messaggio. Riprova pi√π tardi.");
                    console.error("Errore:", error);
                });
        });
    </script>
</body>
</html>
